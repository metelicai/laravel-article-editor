/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[773],{903:(e,t,n)=>{"use strict";var o=n(821),r={key:0,class:"navbar navbar-expand-lg bg-light"},a={class:"container-fluid"},i={class:"collapse navbar-collapse",id:"navbarNav"},l={class:"navbar-nav me-auto"},c={class:"nav-item"},s={key:0,class:"nav-link active text-secondary"},d={class:"nav-item"},u={key:0,class:"nav-link active text-secondary"},m={class:"nav-item"},p={key:0,class:"nav-link active text-secondary"},f={class:"nav-item"},h={key:0,class:"nav-link active text-secondary"},v={class:"navbar-nav"},b=function(e){return(0,o.pushScopeId)("data-v-272eab60"),e=e(),(0,o.popScopeId)(),e}((function(){return(0,o.createElementVNode)("li",{class:"nav-item me-3"},[(0,o.createElementVNode)("a",{href:"/",target:"_blank",class:"btn btn-link"},"Сайт")],-1)})),y={class:"nav-item me-3"},g={class:"nav-item"},k={class:"container-fluid mt-4"},E={key:1,class:"toast-container position-fixed bottom-0 end-0 p-3"};var w=function(e){return(0,o.pushScopeId)("data-v-624383ca"),e=e(),(0,o.popScopeId)(),e},N={class:"v-align-center"},V={class:"card"},x=w((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Авторизация",-1)})),C={class:"card-body"},B={class:"mb-3"},_=w((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Логин",-1)})),S={class:"mb-3"},T=w((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Пароль",-1)})),L={class:"card-footer"};var D=n(181);const M={data:function(){return{login:"",password:"",errors:[]}},methods:{auth:function(){var e=this;this.login&&this.password&&(0,D.LP)(this.login,this.password).then((function(t){var n;e.errors=[],e.$root.store.forgetErrors(),200!=t.status.code&&null!==(n=t.data)&&void 0!==n&&n.validError?(e.errors.push(t.data.validError),e.password=""):200!=t.status.code?e.errors.push(t.status.message):(e.$root.store.setToken(t.data.token.plainTextToken),e.$root.store.reloadPages(),e.$root.store.loadBlockTypes(),e.$root.store.loadUser(),e.$router.push({name:"notices.list"}))}))}}};var P=n(379),I=n.n(P),F=n(21),O={insert:"head",singleton:!1};I()(F.Z,O);F.Z.locals;var U=n(744);const j=(0,U.Z)(M,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",N,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.errors,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"alert alert-danger",role:"alert",key:t},(0,o.toDisplayString)(e),1)})),128)),(0,o.createElementVNode)("div",V,[x,(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",B,[_,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.login=e}),onKeypress:t[1]||(t[1]=(0,o.withKeys)((function(){return i.auth&&i.auth.apply(i,arguments)}),["enter"])),autofocus:""},null,544),[[o.vModelText,a.login]])]),(0,o.createElementVNode)("div",S,[T,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"password",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),onKeypress:t[3]||(t[3]=(0,o.withKeys)((function(){return i.auth&&i.auth.apply(i,arguments)}),["enter"]))},null,544),[[o.vModelText,a.password]])])]),(0,o.createElementVNode)("div",L,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=function(){return i.auth&&i.auth.apply(i,arguments)})},"Войти")])])])}],["__scopeId","data-v-624383ca"]]);var $={class:"d-flex"},Z={class:"toast-body"};const z={props:{type:{type:String,default:"danger"}},emits:["close"]},G=(0,U.Z)(z,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["toast align-items-center border-0 text-white show","bg-"+n.type]),role:"alert","aria-live":"assertive","aria-atomic":"true"},[(0,o.createElementVNode)("div",$,[(0,o.createElementVNode)("div",Z,[(0,o.renderSlot)(e.$slots,"default")]),(0,o.createElementVNode)("button",{type:"button",class:"btn-close btn-close-white me-2 m-auto","aria-label":"Close",onClick:t[0]||(t[0]=function(t){return e.$emit("close")})})])],2)}]]);var A=n(884);const R={setup:function(){var e=(0,A.o)();return(0,o.provide)("store",e),{store:e}},components:{AuthForm:j,"error-alert":G},methods:{logOut:function(){(0,D.P7)(this.store.getToken()),this.store.resetToken(),this.$router.push({name:"login"})},closeError:function(e){this.store.removeError(e)},closeSuccess:function(e){this.store.removeSuccess(e)},editCurrentUser:function(){this.$router.push({name:"user.edit",params:{user:this.store.getUser().id}})}},computed:{pageRoute:function(){var e=this.store.getPage();return e?{name:"menu.edit",params:{menuItem:e.id}}:{name:"menu.create"}}},watch:{$route:{immediate:!0,handler:function(e,t){document.title=e.meta.title||"Админцентр"}}},mounted:function(){this.store.getToken()&&"login"==this.$route.name&&this.$router.push({name:"notices.list"}),this.store.getToken()&&(this.store.reloadPages(),this.store.loadBlockTypes(),this.store.loadUser())}};var Y=n(913),H={insert:"head",singleton:!1};I()(Y.Z,H);Y.Z.locals;const q=(0,U.Z)(R,[["render",function(e,t,n,w,N,V){var x,C=(0,o.resolveComponent)("router-link"),B=(0,o.resolveComponent)("router-view"),_=(0,o.resolveComponent)("error-alert");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[null!==(x=w.store)&&void 0!==x&&x.token?((0,o.openBlock)(),(0,o.createElementBlock)("nav",r,[(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("ul",l,[(0,o.createElementVNode)("li",c,["notices.list"==e.$route.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",s,"Уведомления")):((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,class:"nav-link",to:{name:"notices.list"}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Уведомления")]})),_:1},8,["to"]))]),(0,o.createElementVNode)("li",d,[e.$route.name&&e.$route.name.indexOf("menu.")>-1?((0,o.openBlock)(),(0,o.createElementBlock)("span",u,"Страницы")):((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,class:"nav-link",to:V.pageRoute},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Страницы")]})),_:1},8,["to"]))]),(0,o.createElementVNode)("li",m,["contacts.list"==e.$route.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",p,"Контакты")):((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,class:"nav-link",to:{name:"contacts.list"}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Контакты")]})),_:1},8,["to"]))]),(0,o.createElementVNode)("li",f,["user.list"==e.$route.name||"user.edit"==e.$route.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",h,"Пользователи")):((0,o.openBlock)(),(0,o.createBlock)(C,{key:1,class:"nav-link",to:{name:"user.list"}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Пользователи")]})),_:1},8,["to"]))])]),(0,o.createElementVNode)("ul",v,[b,(0,o.createElementVNode)("li",y,[(0,o.createElementVNode)("a",{class:"btn btn-outline-primary",onClick:t[0]||(t[0]=function(){return V.editCurrentUser&&V.editCurrentUser.apply(V,arguments)})},"Пользователь")]),(0,o.createElementVNode)("li",g,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-outline-primary",onClick:t[1]||(t[1]=function(){return V.logOut&&V.logOut.apply(V,arguments)})},"Выйти")])])])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",k,[(0,o.createVNode)(B)]),w.store.hasSuccesses()||w.store.hasErrors()?((0,o.openBlock)(),(0,o.createElementBlock)("div",E,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(w.store.getSuccesses(),(function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(_,{key:t,type:"success",onClose:function(e){return V.closeSuccess(t)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e),1)]})),_:2},1032,["onClose"])})),128)),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(w.store.getErrors(),(function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(_,{key:t,onClose:function(e){return V.closeError(t)}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(e),1)]})),_:2},1032,["onClose"])})),128))])):(0,o.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-272eab60"]]);var W=(0,o.createElementVNode)("h1",{class:"mb-4"},"Создание страницы",-1),K=(0,o.createElementVNode)("ul",{class:"nav nav-tabs mb-2"},[(0,o.createElementVNode)("li",{class:"nav-item"},[(0,o.createElementVNode)("span",{class:"nav-link active"},"Свойства")])],-1);var J={class:"mb-3"},Q=(0,o.createElementVNode)("label",{class:"form-label"},"Название",-1),X={class:"form-check mb-3"},ee=(0,o.createElementVNode)("label",{class:"form-check-label",for:"is_published"},"Показывать на сайте",-1),te={class:"form-check mb-3"},ne=["checked","disabled"],oe=(0,o.createElementVNode)("label",{class:"form-check-label",for:"is_show_in_menu"},"Показывать в меню",-1),re={class:"mb-3"},ae=(0,o.createElementVNode)("label",{class:"form-label"},"Заголовок страницы",-1),ie=(0,o.createElementVNode)("div",{class:"form-text"},"Отображается во вкладке браузера как название страницы",-1),le={class:"mb-3"},ce=(0,o.createElementVNode)("label",{class:"form-label"},"Описание",-1),se=(0,o.createElementVNode)("div",{class:"form-text"},"Анонс содержимого",-1),de={class:"mb-3"},ue=(0,o.createElementVNode)("label",{class:"form-label"},"Ключевые слова",-1),me={class:"mb-3"},pe=(0,o.createElementVNode)("label",{class:"form-label"},"Псевдоним",-1),fe=(0,o.createElementVNode)("div",{class:"form-text"},"Служит адресом страницы",-1),he={key:0,class:"mt-4 mb-4"},ve={key:1,class:"mt-4 mb-4"};function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ye(){ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),l=new x(r||[]);return o(i,"_invoke",{value:E(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function m(){}function p(){}function f(){}var h={};c(h,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(C([])));b&&b!==t&&n.call(b,a)&&(h=b);var y=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==be(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return B()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var r=d(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:B}}function B(){return{value:void 0,done:!0}}return p.prototype=f,o(y,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),c(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new k(s(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(V),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return i.type="throw",i.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;V(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ge(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,r)}const ke={emits:["created","updated","deleted"],props:{id:{type:Number},parentId:{type:Number}},data:function(){return{data:{name:"",slug:"",is_published:!1,is_show_in_menu:!0,meta_title:"",meta_description:"",meta_keywords:""},errors:{name:[]}}},methods:{storeItem:function(){var e=this;if(this.validate("name")){var t=this.data;this.parentId&&(t.parentId=this.parentId),this.data.is_show_in_menu=this.data.is_published&&this.data.is_show_in_menu,(0,D.VS)(t).then((function(t){t.status.code>=300&&e.$root.store.addError(t.status.message),e.$root.store.reloadPages(),e.$emit("created",t.data),e.$router.push({name:"menu.edit",params:{menuItem:t.data.id}})}))}},updateItem:function(){var e=this;if(this.validate("name")){var t=this.data;this.data.is_show_in_menu=this.data.is_published&&this.data.is_show_in_menu,(0,D.so)(this.id,t).then((function(t){t.status.code>=300?e.$root.store.addError(t.status.message):e.$root.store.addSuccess("Данные обновлены"),e.$root.store.reloadPages(),e.data=t.data,e.$emit("updated")}))}},deleteItem:function(){var e=this;confirm("Вы действительно хотите удалить страницу «"+this.data.name+"»")&&(0,D.Og)(this.id).then((function(t){t.status.code>=300&&e.$root.store.addError(t.status.message),e.$root.store.reloadPages(),e.$emit("deleted",t.data)}))},validate:function(e){return this.errors[e]=[],"name"!=e||0!=this.data.name.length||(this.errors.name.push("Поле «Название» не может быть пустым"),!1)},show:function(){var e,t=this;return(e=ye().mark((function e(){return ye().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=3;break}return e.next=3,(0,D.yZ)(t.id).then((function(e){e.status.code>=300&&t.$root.store.addError(e.status.message),t.data.name=e.data.name,t.data.slug=e.data.slug?e.data.slug:"",t.data.is_published=e.data.is_published,t.data.is_show_in_menu=e.data.is_show_in_menu,t.data.meta_title=e.data.meta_title,t.data.meta_description=e.data.meta_description,t.data.meta_keywords=e.data.meta_keywords}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){ge(a,o,r,i,l,"next",e)}function l(e){ge(a,o,r,i,l,"throw",e)}i(void 0)}))})()}},watch:{id:function(){this.show()}},beforeMount:function(){this.show()}},Ee=(0,U.Z)(ke,[["render",function(e,t,n,r,a,i){var l,c,s;return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",J,[Q,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:(0,o.normalizeClass)(["form-control",{"is-invalid":null===(l=a.errors)||void 0===l||null===(c=l.name)||void 0===c?void 0:c.length}]),"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.data.name=e}),onChange:t[1]||(t[1]=function(e){return i.validate("name")})},null,34),[[o.vModelText,a.data.name]]),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(null===(s=a.errors)||void 0===s?void 0:s.name,(function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"invalid-feedback",style:{display:"block"},key:t},(0,o.toDisplayString)(e),1)})),128))]),(0,o.createElementVNode)("div",X,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"is_published","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.data.is_published=e})},null,512),[[o.vModelCheckbox,a.data.is_published]]),ee]),(0,o.createElementVNode)("div",te,[(0,o.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"is_show_in_menu",onClick:t[3]||(t[3]=function(e){return a.data.is_show_in_menu=!a.data.is_show_in_menu}),checked:a.data.is_published&&a.data.is_show_in_menu,disabled:!a.data.is_published},null,8,ne),oe]),(0,o.createElementVNode)("div",re,[ae,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.data.meta_title=e})},null,512),[[o.vModelText,a.data.meta_title]]),ie]),(0,o.createElementVNode)("div",le,[ce,(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.data.meta_description=e})},null,512),[[o.vModelText,a.data.meta_description]]),se]),(0,o.createElementVNode)("div",de,[ue,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.data.meta_keywords=e})},null,512),[[o.vModelText,a.data.meta_keywords]])]),(0,o.createElementVNode)("div",me,[pe,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.data.slug=e})},null,512),[[o.vModelText,a.data.slug]]),fe]),n.id?((0,o.openBlock)(),(0,o.createElementBlock)("div",he,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[8]||(t[8]=function(){return i.updateItem&&i.updateItem.apply(i,arguments)})},"Сохранить"),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-danger ms-2",onClick:t[9]||(t[9]=function(){return i.deleteItem&&i.deleteItem.apply(i,arguments)})},"Удалить")])):((0,o.openBlock)(),(0,o.createElementBlock)("div",ve,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary",onClick:t[10]||(t[10]=function(){return i.storeItem&&i.storeItem.apply(i,arguments)})},"Создать")]))],64)}]]);var we=n(980),Ne=n.n(we),Ve=function(e){return(0,o.pushScopeId)("data-v-02f3438f"),e=e(),(0,o.popScopeId)(),e},xe=[Ve((function(){return(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)}))],Ce=[Ve((function(){return(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)}))];const Be={__name:"CollapseButton",props:{isCollapsed:{type:Boolean,required:!0}},emits:["update"],setup:function(e){return function(t,n){return e.isCollapsed?((0,o.openBlock)(),(0,o.createElementBlock)("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon",onClick:n[0]||(n[0]=function(e){return t.$emit("update",!1)})},xe)):((0,o.openBlock)(),(0,o.createElementBlock)("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon",onClick:n[1]||(n[1]=function(e){return t.$emit("update",!0)})},Ce))}}};var _e=n(635),Se={insert:"head",singleton:!1};I()(_e.Z,Se);_e.Z.locals;const Te=(0,U.Z)(Be,[["__scopeId","data-v-02f3438f"]]);var Le={class:"treeview"},De=["data-id"],Me={key:0},Pe={key:0};const Ie={__name:"PageMenuNavbarComponent",props:{parentId:{type:Number}},emits:["closeMenu"],setup:function(e){var t=e,n=(0,o.inject)("store"),r=(0,o.ref)(!0),a=(0,o.ref)([]),i=(0,o.ref)([]);function l(e){return-1!=i.value.indexOf(e.id)}function c(e){var t,o=null===(t=e.item.parentNode)||void 0===t?void 0:t.children,r=e.newIndex;if(o&&o.length){var a,i,l,c,s,d,u=null===(a=o[r])||void 0===a||null===(i=a.dataset)||void 0===i?void 0:i.id,m=null===(l=o[r-1])||void 0===l||null===(c=l.dataset)||void 0===c?void 0:c.id,p=null===(s=o[r+1])||void 0===s||null===(d=s.dataset)||void 0===d?void 0:d.id;(0,D.bs)({moved:u,prev:m,next:p}).then((function(e){n.reloadPages()}))}}return(0,o.watchEffect)((function(){t.parentId&&n.pages.length?setTimeout((function(){var e;a.value=[],null===(e=n.getPageById(t.parentId))||void 0===e||e.children.data.forEach((function(e){a.value.push(e)}))}),100):n.pages.length&&setTimeout((function(){a.value=[],n.pages.forEach((function(e){a.value.push(e)}))}),100)})),(0,o.onBeforeMount)((function(){(0,D.iE)("pages").then((function(e){r.value=e.data["one-level"]}))})),function(t,n){var s=(0,o.resolveComponent)("router-link"),d=(0,o.resolveComponent)("PageMenuNavbarComponent",!0);return(0,o.openBlock)(),(0,o.createElementBlock)("ul",Le,[(0,o.createVNode)((0,o.unref)(Ne()),{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return a.value=e}),group:"page-menu","item-key":"id",tag:"li",onEnd:c},{item:(0,o.withCtx)((function(e){var n=e.element;return[(0,o.createElementVNode)("div",{"data-id":n.id},[(0,o.createVNode)(Te,{class:"me-1",isCollapsed:l(n),onUpdate:function(e){return function(e,t){if(e)i.value.push(t.id);else{var n=i.value.indexOf(t.id);i.value.splice(n,1)}}(e,n)}},null,8,["isCollapsed","onUpdate"]),n.id==t.$route.params.menuItem?((0,o.openBlock)(),(0,o.createElementBlock)("span",Me,(0,o.toDisplayString)(n.name),1)):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,to:{name:"menu.edit",params:{menuItem:n.id}}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)((0,o.toDisplayString)(n.name),1)]})),_:2},1032,["to"])),r.value?(0,o.createCommentVNode)("",!0):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)(d,{key:2,"parent-id":n.id},null,8,["parent-id"])),[[o.vShow,!l(n)]])],8,De)]})),_:1},8,["modelValue"]),(0,o.createElementVNode)("li",{class:(0,o.normalizeClass)({"mt-3":!e.parentId})},[e.parentId==t.$route.params.parentItem&&"menu.create"==t.$route.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",Pe,"[ Новая страница ]")):e.parentId?((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,to:{name:"menu.create",params:{parentItem:e.parentId}}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("[ Новая страница ]")]})),_:1},8,["to"])):((0,o.openBlock)(),(0,o.createBlock)(s,{key:2,to:{name:"menu.create"}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("[ Новая страница ]")]})),_:1},8,["to"]))],2)])}}};var Fe=n(651),Oe={insert:"head",singleton:!1};I()(Fe.Z,Oe);Fe.Z.locals;const Ue=(0,U.Z)(Ie,[["__scopeId","data-v-07d98a90"]]);var je={class:"row h-100"},$e=[function(e){return(0,o.pushScopeId)("data-v-1f2ce14e"),e=e(),(0,o.popScopeId)(),e}((function(){return(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"},null,-1)}))],Ze={class:"col"};const ze={__name:"MenuTemplateComponent",setup:function(e){var t=(0,o.ref)(!0);return function(e,n){return(0,o.openBlock)(),(0,o.createElementBlock)("div",je,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["col-4 bg-light rounded h-100 sidebar",{"sidebar-opened":t.value}])},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["icon mt-2 text-end",{"icon-opened":t.value,"mb-2":!t.value}])},[((0,o.openBlock)(),(0,o.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6",onClick:n[0]||(n[0]=function(e){return t.value=!t.value})},$e))],2),(0,o.createVNode)(o.Transition,null,{default:(0,o.withCtx)((function(){return[(0,o.withDirectives)((0,o.createElementVNode)("div",null,[(0,o.createVNode)(Ue)],512),[[o.vShow,t.value]])]})),_:1})],2),(0,o.createElementVNode)("div",Ze,[(0,o.renderSlot)(e.$slots,"default")])])}}};var Ge=n(488),Ae={insert:"head",singleton:!1};I()(Ge.Z,Ae);Ge.Z.locals;const Re=(0,U.Z)(ze,[["__scopeId","data-v-1f2ce14e"]]),Ye={components:{"meta-tab":Ee,"menu-template":Re},computed:{parentId:function(){var e;return parseInt(null===(e=this.$route.params)||void 0===e?void 0:e.parentItem)}}},He=(0,U.Z)(Ye,[["render",function(e,t,n,r,a,i){var l=(0,o.resolveComponent)("meta-tab"),c=(0,o.resolveComponent)("menu-template");return(0,o.openBlock)(),(0,o.createBlock)(c,null,{default:(0,o.withCtx)((function(){return[W,K,(0,o.createVNode)(l,{parentId:i.parentId},null,8,["parentId"])]})),_:1})}]]);var qe=function(e){return(0,o.pushScopeId)("data-v-45066739"),e=e(),(0,o.popScopeId)(),e},We={class:"mb-4"},Ke=qe((function(){return(0,o.createElementVNode)("span",null,"Редактирование страницы",-1)})),Je={key:0,class:"fw-bold ms-2"},Qe=["href"],Xe={class:"img-fluid"},et={xmlns:"http://www.w3.org/2000/svg",fill:"none",style:{"max-width":"24px"},viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},tt=[qe((function(){return(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"},null,-1)}))],nt={key:0,class:"tooltip bs-tooltip-auto fade show",role:"tooltip",style:{position:"absolute",inset:"0px auto auto 0px",margin:"0px",transform:"translate(30px, 17px)"},"data-popper-placement":"right"},ot=[qe((function(){return(0,o.createElementVNode)("div",{class:"tooltip-arrow",style:{position:"absolute",top:"0px",transform:"translate(0px, 9px)"}},null,-1)})),qe((function(){return(0,o.createElementVNode)("div",{class:"tooltip-inner"},"Показать на сайте",-1)}))],rt={class:"nav nav-tabs mb-2"},at={class:"nav-item"},it={class:"nav-item"};var lt=function(e){return(0,o.pushScopeId)("data-v-76e417a9"),e=e(),(0,o.popScopeId)(),e},ct={class:"iframe-container"},st=["id","src"],dt={class:"position-absolute top-0 end-0 me-2 mt-2"},ut=["onClick"],mt=[lt((function(){return(0,o.createElementVNode)("div",{class:"img-fluid"},[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:"0 0 20 20",fill:"currentColor"},[(0,o.createElementVNode)("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])],-1)}))],pt=lt((function(){return(0,o.createElementVNode)("button",{type:"button",class:"btn btn-light btn-sm p-0 ms-2"},[(0,o.createElementVNode)("div",{class:"img-fluid"},[(0,o.createElementVNode)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:"0 0 24 24",fill:"none","stroke-width":"1.5",stroke:"currentColor"},[(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])])],-1)})),ft={class:"d-grid gap-2 mt-4 mb-4"},ht=lt((function(){return(0,o.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Создание блока",-1)})),vt=["value"],bt=lt((function(){return(0,o.createElementVNode)("input",{type:"hidden",name:"is_published",value:"0"},null,-1)})),yt={class:"mb-3"},gt=lt((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Тип блока",-1)})),kt=["disabled"],Et=["value"],wt={class:"form-check mb-3"},Nt=["disabled"],Vt=lt((function(){return(0,o.createElementVNode)("label",{class:"form-check-label",for:"is_published"},"Показывать на странице",-1)})),xt=lt((function(){return(0,o.createElementVNode)("h5",{class:"modal-title",id:"exampleModalLiveLabel"},"Редактирование блока",-1)})),Ct=["value"],Bt=lt((function(){return(0,o.createElementVNode)("input",{type:"hidden",name:"is_published",value:"0"},null,-1)})),_t={class:"mb-3"},St=lt((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Тип блока",-1)})),Tt=["value"],Lt={class:"form-check mb-3"},Dt=["disabled"],Mt=lt((function(){return(0,o.createElementVNode)("label",{class:"form-check-label",for:"is_published"},"Показывать на странице",-1)}));var Pt={class:"modal-dialog modal-xl"},It={class:"modal-content"},Ft={class:"modal-header"},Ot={class:"modal-body"},Ut={id:"modalForm"},jt={class:"modal-footer"};const $t={emits:["closeModal"]};var Zt=n(844),zt={insert:"head",singleton:!1};I()(Zt.Z,zt);Zt.Z.locals;const Gt=(0,U.Z)($t,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"modal d-block",tabindex:"-1","aria-modal":"true",role:"dialog",onClick:t[0]||(t[0]=(0,o.withModifiers)((function(t){return e.$emit("closeModal")}),["self"]))},[(0,o.createElementVNode)("div",Pt,[(0,o.createElementVNode)("div",It,[(0,o.createElementVNode)("div",Ft,[(0,o.renderSlot)(e.$slots,"header",{},void 0,!0)]),(0,o.createElementVNode)("div",Ot,[(0,o.createElementVNode)("form",Ut,[(0,o.renderSlot)(e.$slots,"body",{},void 0,!0)])]),(0,o.createElementVNode)("div",jt,[(0,o.renderSlot)(e.$slots,"footer",{},void 0,!0)])])])])}],["__scopeId","data-v-1328786d"]]);var At=["disabled"],Rt={class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};const Yt={props:{showSpinner:{type:Boolean}}},Ht=(0,U.Z)(Yt,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)("button",{type:"button",class:"btn",disabled:n.showSpinner},[(0,o.withDirectives)((0,o.createElementVNode)("span",Rt,null,512),[[o.vShow,n.showSpinner]]),(0,o.renderSlot)(e.$slots,"default")],8,At)}]]);var qt=n(486),Wt=n.n(qt);const Kt={emits:["created","updated","deleted"],props:{id:{type:Number,required:!1}},components:{Draggable:Ne(),BlockModal:Gt,SpinnerButton:Ht},data:function(){return{blocks:[],openedModal:!1,isCreating:!0,modalComponent:void 0,modal:{id:void 0,is_published:!1,type:void 0,content:"",files:[],images:[],deleteMedia:[],errors:{name:[]}},showSpinnerButtons:{create:!1,delete:!1,update:!1},previewSteps:[1920,1366,768,360],currentStep:0}},methods:{importPreviewComponent:function(e){return e=Wt().capitalize(e).substring(0,1)+Wt().camelCase(e).substring(1),(0,o.defineAsyncComponent)((function(){return n(496)("./"+e+"Component.vue")}))},addBlock:function(){this.modal.id=void 0,this.modal.name="",this.modal.is_published=!1,this.modal.content="",this.modal.images=[],this.modal.type=this.$root.store.getBlockType(0).type,this.changeTypeCreateBlock(this.modal.type),this.isCreating=!0,this.openedModal=!0},editBlock:function(e){this.modal.id=e.id,this.modal.name=e.name,this.modal.type=e.type,this.modal.is_published=e.is_published,this.modal.content=e.content,this.modal.images=e.images,this.changeTypeCreateBlock(e.type),this.isCreating=!1,this.openedModal=!0},close:function(){this.modal.id=void 0,this.openedModal=!1,this.modal.name="",this.modal.type=void 0,this.modal.is_published=!1,this.modal.content=""},updateModalContent:function(e){setTimeout((function(){e?document.querySelector("#iframe"+e).contentWindow.location.reload():document.querySelectorAll('[id^="iframe"]').forEach((function(e){e.contentWindow.location.reload()}))}),100)},changeTypeCreateBlock:function(e){this.modalComponent="string"==typeof e?e:e.target.value},updateBlocks:function(e){var t=this;(0,D.yM)({menu_item_id:this.$route.params.menuItem}).then((function(e){e.status.code>=300&&t.$root.store.addError(e.status.message),t.blocks=[],e.data.forEach((function(e){t.blocks.push(e)}))}))},store:function(){var e=this;this.showSpinnerButtons.create=!0,(0,D.Zj)(this.prepareData()).then((function(t){var n;e.updateBlocks(),e.updateModalContent(null==t||null===(n=t.data)||void 0===n?void 0:n.id),e.showSpinnerButtons.create=!1,e.openedModal=!1}))},update:function(){var e=this;this.showSpinnerButtons.update=!0,(0,D.F5)(this.modal.id,this.prepareData()).then((function(t){var n;e.updateBlocks(),e.updateModalContent(null==t||null===(n=t.data)||void 0===n?void 0:n.id),e.showSpinnerButtons.update=!1,e.openedModal=!1}))},remove:function(){var e=this;this.showSpinnerButtons.delete=!0,confirm("Вы действительно хотите удалить блок «"+(this.modal.name||this.$root.store.getBlockTypeName(this.modal.type))+"»?")?(0,D.$k)(this.modal.id).then((function(t){200==t.status.code&&(e.updateBlocks(),e.updateModalContent(),e.showSpinnerButtons.delete=!1,e.openedModal=!1)})):this.showSpinnerButtons.delete=!1},prepareData:function(){var e=document.querySelector("#modalForm");return new FormData(e)},endDraggable:function(e){var t,n,o,r=this,a=null===(t=this.blocks[e.newIndex])||void 0===t?void 0:t.id,i=null===(n=this.blocks[e.newIndex-1])||void 0===n?void 0:n.id,l=null===(o=this.blocks[e.newIndex+1])||void 0===o?void 0:o.id;(0,D.Fn)({moved:a,prev:i,next:l}).then((function(e){e.status.code>=300&&r.$root.store.addError(e.status.message)}))},togglePreview:function(e){this.currentStep=e,document.querySelectorAll(".preview-container iframe").forEach((function(e){e.contentWindow.location.reload(),e.style.height=e.contentWindow.document.body.scrollHeight+"px"}))}},computed:{disableCreatingModal:function(){return this.showSpinnerButtons.create},disableUpdatingModal:function(){return this.showSpinnerButtons.update||this.showSpinnerButtons.delete},importComponent:function(){var e=Wt().capitalize(this.modalComponent).substring(0,1)+Wt().camelCase(this.modalComponent).substring(1);return(0,o.defineAsyncComponent)((function(){return n(496)("./"+e+"Component.vue")}))}},watch:{id:function(e,t){this.updateBlocks()}},beforeMount:function(){this.updateBlocks()}};var Jt=n(675),Qt={insert:"head",singleton:!1};I()(Jt.Z,Qt);Jt.Z.locals;const Xt={components:{"meta-tab":Ee,"content-tab":(0,U.Z)(Kt,[["render",function(e,t,n,r,a,i){var l=(0,o.resolveComponent)("draggable"),c=(0,o.resolveComponent)("spinner-button"),s=(0,o.resolveComponent)("block-modal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)({"preview-container":0==a.currentStep,"preview-container_steps":0!=a.currentStep}),style:(0,o.normalizeStyle)(a.currentStep?"max-width:"+a.previewSteps[a.currentStep]+"px;":"")},[(0,o.createVNode)(l,{modelValue:a.blocks,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.blocks=e}),onEnd:i.endDraggable,"item-key":"id"},{item:(0,o.withCtx)((function(e){var t=e.element;return[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["position-relative preview-container",{"opacity-50":!t.is_published}])},[(0,o.createElementVNode)("div",ct,[(0,o.createElementVNode)("iframe",{id:"iframe"+t.id,src:t.preview_url,marginwidth:"0",marginheight:"0",scrolling:"yes",width:"100%",seamless:"",ref:"iframe"},null,8,st)]),(0,o.createElementVNode)("div",dt,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-sm p-0",onClick:function(e){return i.editBlock(t)}},mt,8,ut),pt])],2)]})),_:1},8,["modelValue","onEnd"])],6),(0,o.createElementVNode)("div",ft,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[1]||(t[1]=function(){return i.addBlock&&i.addBlock.apply(i,arguments)})},"Добавить блок")]),a.openedModal&&a.isCreating?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0},{header:(0,o.withCtx)((function(){return[ht,(0,o.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[2]||(t[2]=(0,o.withModifiers)((function(){return i.close&&i.close.apply(i,arguments)}),["self"]))})]})),body:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("input",{type:"hidden",name:"menu_item_id",value:e.$route.params.menuItem},null,8,vt),bt,(0,o.createElementVNode)("div",yt,[gt,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select",name:"type","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.modal.type=e}),onChange:t[4]||(t[4]=function(){return i.changeTypeCreateBlock&&i.changeTypeCreateBlock.apply(i,arguments)}),disabled:i.disableCreatingModal},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.$root.store.getBlockTypes(),(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.type,value:e.type},(0,o.toDisplayString)(e.name),9,Et)})),128))],40,kt),[[o.vModelSelect,a.modal.type]])]),(0,o.createElementVNode)("div",wt,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"is_published",name:"is_published",value:"1","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.modal.is_published=e}),disabled:i.disableCreatingModal},null,8,Nt),[[o.vModelCheckbox,a.modal.is_published]]),Vt]),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(i.importComponent),{onUpdate:i.updateModalContent,disabled:i.disableCreatingModal},null,40,["onUpdate","disabled"]))]})),footer:(0,o.withCtx)((function(){return[(0,o.createVNode)(c,{class:"btn-primary",onClick:i.store,showSpinner:a.showSpinnerButtons.create},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Создать")]})),_:1},8,["onClick","showSpinner"])]})),_:1})):(0,o.createCommentVNode)("",!0),a.openedModal&&!a.isCreating?((0,o.openBlock)(),(0,o.createBlock)(s,{key:1},{header:(0,o.withCtx)((function(){return[xt,(0,o.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[6]||(t[6]=(0,o.withModifiers)((function(){return i.close&&i.close.apply(i,arguments)}),["self"]))})]})),body:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("input",{type:"hidden",name:"menu_item_id",value:e.$route.params.menuItem},null,8,Ct),Bt,(0,o.createElementVNode)("div",_t,[St,(0,o.createElementVNode)("input",{type:"text",readonly:"",class:"form-control-plaintext",value:e.$root.store.getBlockTypeName(a.modal.type)},null,8,Tt)]),(0,o.createElementVNode)("div",Lt,[(0,o.withDirectives)((0,o.createElementVNode)("input",{class:"form-check-input",type:"checkbox",id:"is_published",name:"is_published",value:"1","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.modal.is_published=e}),disabled:i.disableUpdatingModal},null,8,Dt),[[o.vModelCheckbox,a.modal.is_published]]),Mt]),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(i.importComponent),{onUpdate:i.updateModalContent,onRefreshPreview:i.updateBlocks,data:a.modal,disabled:i.disableUpdatingModal},null,40,["onUpdate","onRefreshPreview","data","disabled"]))]})),footer:(0,o.withCtx)((function(){return[(0,o.createVNode)(c,{class:"btn-danger",onClick:i.remove,showSpinner:a.showSpinnerButtons.delete,disabled:i.disableUpdatingModal},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Удалить")]})),_:1},8,["onClick","showSpinner","disabled"]),(0,o.createVNode)(c,{class:"btn-primary",onClick:i.update,showSpinner:a.showSpinnerButtons.update,disabled:i.disableUpdatingModal},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Сохранить")]})),_:1},8,["onClick","showSpinner","disabled"])]})),_:1})):(0,o.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-76e417a9"]]),"menu-template":Re},data:function(){return{currentTab:"content-tab",tooltipLink:!1}},computed:{id:function(){var e;return parseInt(null===(e=this.$route.params)||void 0===e?void 0:e.menuItem)},pageInfo:function(){return this.$root.store.getPageById(this.id)}},methods:{deletedItem:function(e){this.$root.store.reloadPages(),null!=e&&e.id?this.$router.push({name:"menu.edit",params:{menuItem:e.id}}):this.$router.push({name:"menu.create"})}},watch:{pageInfo:function(e){null!=e&&e.name&&(document.title=this.$route.meta.title+" «".concat(e.name,"»")||0)}}};var en=n(984),tn={insert:"head",singleton:!1};I()(en.Z,tn);en.Z.locals;const nn=(0,U.Z)(Xt,[["render",function(e,t,n,r,a,i){var l=(0,o.resolveComponent)("menu-template");return(0,o.openBlock)(),(0,o.createBlock)(l,null,{default:(0,o.withCtx)((function(){var e;return[(0,o.createElementVNode)("h1",We,[Ke,i.pageInfo&&i.pageInfo.name?((0,o.openBlock)(),(0,o.createElementBlock)("span",Je,(0,o.toDisplayString)(i.pageInfo.name),1)):(0,o.createCommentVNode)("",!0),null!==(e=i.pageInfo)&&void 0!==e&&e.is_published?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:1,class:"position-relative ms-2",target:"_blank",href:i.pageInfo.url,onMouseover:t[0]||(t[0]=function(e){return a.tooltipLink=!0}),onMouseout:t[1]||(t[1]=function(e){return a.tooltipLink=!1})},[(0,o.createElementVNode)("span",Xe,[((0,o.openBlock)(),(0,o.createElementBlock)("svg",et,tt))]),a.tooltipLink?((0,o.openBlock)(),(0,o.createElementBlock)("div",nt,ot)):(0,o.createCommentVNode)("",!0)],40,Qe)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("ul",rt,[(0,o.createElementVNode)("li",at,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["nav-link",{active:"content-tab"==a.currentTab}]),onClick:t[2]||(t[2]=function(e){return a.currentTab="content-tab"})},"Содержимое",2)]),(0,o.createElementVNode)("li",it,[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["nav-link",{active:"meta-tab"==a.currentTab}]),onClick:t[3]||(t[3]=function(e){return a.currentTab="meta-tab"})},"Свойства",2)])]),((0,o.openBlock)(),(0,o.createBlock)(o.KeepAlive,null,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(a.currentTab),{id:i.id,onDeleted:i.deletedItem},null,40,["id","onDeleted"]))],1024))]})),_:1})}],["__scopeId","data-v-45066739"]]);var on=function(e){return(0,o.pushScopeId)("data-v-1967aedc"),e=e(),(0,o.popScopeId)(),e},rn=on((function(){return(0,o.createElementVNode)("h1",null,"Уведомления",-1)})),an={key:0,class:"card mb-3"},ln={key:0,class:"position-relative ms-2"},cn=[on((function(){return(0,o.createElementVNode)("span",{class:"position-absolute top-50 translate-middle p-1 bg-primary border border-light rounded-circle"},null,-1)}))],sn={key:0,class:"card-body"},dn={class:"row"},un={class:"col-auto"},mn={class:"row g-3"},pn=on((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"Тип:")],-1)})),fn={class:"col"},hn=on((function(){return(0,o.createElementVNode)("option",{value:"all"},"Любого типа",-1)})),vn=["value"],bn=on((function(){return(0,o.createElementVNode)("option",{value:"none"},"Без типа",-1)})),yn={class:"col-auto"},gn={class:"row g-3"},kn=on((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"Статус:")],-1)})),En={class:"col"},wn=[on((function(){return(0,o.createElementVNode)("option",{value:"all"},"Прочитанные и непрочитанные",-1)})),on((function(){return(0,o.createElementVNode)("option",{value:"read"},"Прочитанные",-1)})),on((function(){return(0,o.createElementVNode)("option",{value:"not_read"},"Непрочитанные",-1)}))],Nn={class:"col-auto"},Vn={class:"row g-3"},xn=on((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"С:")],-1)})),Cn={class:"col"},Bn={class:"col-auto"},_n={class:"row g-3"},Sn=on((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"По:")],-1)})),Tn={class:"col"},Ln={key:1,class:"alert alert-primary mt-4",role:"alert"},Dn={key:2,class:"table-responsive"},Mn={class:"table table-striped table-hover"},Pn=on((function(){return(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",{class:"text-right",style:{width:"1px"}},"№"),(0,o.createElementVNode)("th",{style:{width:"150px"}},"Время"),(0,o.createElementVNode)("th",{class:"w1px"},"Тип"),(0,o.createElementVNode)("th",{class:"w1px"})])],-1)})),In={class:"text-right"},Fn={class:"text-end"},On=["onClick"],Un=["onClick"],jn={key:3,"aria-label":"Page navigation"},$n={class:"pagination"},Zn=[on((function(){return(0,o.createElementVNode)("span",{"aria-hidden":"true"},"«",-1)}))],zn=["onClick"],Gn=[on((function(){return(0,o.createElementVNode)("span",{"aria-hidden":"true"},"»",-1)}))],An={class:"modal-dialog modal-xl"},Rn={class:"modal-content"},Yn={class:"modal-header"},Hn={class:"modal-title",id:"exampleModalLiveLabel"},qn=["innerHTML"];const Wn={data:function(){return{filter:{type:"all",read:"all",dateFrom:"",dateTo:""},meta:{currentPage:1,lastPage:1,perPage:0,total:0},notices:[],types:[],modal:{title:"",content:""},showFilter:!1}},methods:{loadNotices:function(e){var t=this;e||(e=this.meta.currentPage);var n={page:e,filter:this.filter};(0,D.zI)(n).then((function(e){t.notices=[],t.types=[],e.data.notices.forEach((function(e){t.notices.push(e)})),e.data.types.forEach((function(e){t.types.push(e)})),t.meta.currentPage=e.data.meta.currentPage,t.meta.lastPage=e.data.meta.lastPage,t.meta.perPage=e.data.meta.perPage,t.meta.total=e.data.meta.total}))},formatDate:function(e){return this.$dayjs(e.created_at).format("DD.MM.YYYY HH:mm")},readed:function(e){var t=this;this.modal.title="Уведомление №".concat(e.id," «").concat(e.type_name||"Без типа","»"),this.modal.content=e.content,(0,D.Dv)(e.id).then((function(){t.loadNotices()}))},remove:function(e){var t=this;confirm("Вы действительно хотите удалить уведомление?")&&(0,D.nF)(e.id).then((function(){t.loadNotices()}))},closeModal:function(){this.modal.content="",this.modal.title=""}},mounted:function(){this.loadNotices(),setInterval(this.loadNotices,6e4),this.$root.store.reloadPages()}};var Kn=n(511),Jn={insert:"head",singleton:!1};I()(Kn.Z,Jn);Kn.Z.locals;const Qn=(0,U.Z)(Wn,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[rn,a.notices.length||"all"!=a.filter.type||"all"!=a.filter.read||""!=a.filter.dateFrom||""!=a.filter.dateTo?((0,o.openBlock)(),(0,o.createElementBlock)("div",an,[(0,o.createElementVNode)("div",{class:"card-header filter-header",onClick:t[0]||(t[0]=function(e){return a.showFilter=!a.showFilter})},[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["filter-arrow",{"filter-arrow_invert":a.showFilter}])},null,2),(0,o.createTextVNode)(" Фильтр "),"all"!=a.filter.type||"all"!=a.filter.read||""!=a.filter.dateFrom||""!=a.filter.dateTo?((0,o.openBlock)(),(0,o.createElementBlock)("span",ln,cn)):(0,o.createCommentVNode)("",!0)]),a.showFilter?((0,o.openBlock)(),(0,o.createElementBlock)("div",sn,[(0,o.createElementVNode)("div",dn,[(0,o.createElementVNode)("div",un,[(0,o.createElementVNode)("div",mn,[pn,(0,o.createElementVNode)("div",fn,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.filter.type=e}),onChange:t[2]||(t[2]=function(e){i.loadNotices()})},[hn,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.types,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.type,value:e.type},(0,o.toDisplayString)(e.name),9,vn)})),128)),bn],544),[[o.vModelSelect,a.filter.type]])])])]),(0,o.createElementVNode)("div",yn,[(0,o.createElementVNode)("div",gn,[kn,(0,o.createElementVNode)("div",En,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.filter.read=e}),onChange:t[4]||(t[4]=function(e){i.loadNotices()})},wn,544),[[o.vModelSelect,a.filter.read]])])])]),(0,o.createElementVNode)("div",Nn,[(0,o.createElementVNode)("div",Vn,[xn,(0,o.createElementVNode)("div",Cn,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"date",class:"form-control",placeholder:"С",autocomplete:"off","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.filter.dateFrom=e}),onChange:t[6]||(t[6]=function(e){i.loadNotices()})},null,544),[[o.vModelText,a.filter.dateFrom]])])])]),(0,o.createElementVNode)("div",Bn,[(0,o.createElementVNode)("div",_n,[Sn,(0,o.createElementVNode)("div",Tn,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"date",class:"form-control",placeholder:"По",autocomplete:"off","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.filter.dateTo=e}),onChange:t[8]||(t[8]=function(e){i.loadNotices()})},null,544),[[o.vModelText,a.filter.dateTo]])])])])])])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0),0==a.notices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ln,"Уведомления отсутствуют")):(0,o.createCommentVNode)("",!0),a.notices.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",Dn,[(0,o.createElementVNode)("table",Mn,[Pn,(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.notices,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id,class:(0,o.normalizeClass)({"table-info":!e.is_read})},[(0,o.createElementVNode)("td",In,(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(i.formatDate(e)),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.type_name||"Без типа"),1),(0,o.createElementVNode)("td",Fn,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-sm btn-primary me-2",onClick:function(t){return i.readed(e)}},"Прочитать",8,On),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-sm btn-danger",onClick:function(t){return i.remove(e)}},"Удалить",8,Un)])],2)})),128))])])])):(0,o.createCommentVNode)("",!0),a.meta.lastPage>1?((0,o.openBlock)(),(0,o.createElementBlock)("nav",jn,[(0,o.createElementVNode)("ul",$n,[(0,o.createElementVNode)("li",{class:(0,o.normalizeClass)(["page-item",{disabled:1==a.meta.currentPage}])},[(0,o.createElementVNode)("a",{class:"page-link",href:"#",onClick:t[9]||(t[9]=function(e){return i.loadNotices(1)})},Zn)],2),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.meta.lastPage,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("li",{class:(0,o.normalizeClass)(["page-item",{disabled:a.meta.currentPage==e}]),key:e},[(0,o.createElementVNode)("a",{href:"#",class:"page-link",onClick:function(t){return i.loadNotices(e)}},(0,o.toDisplayString)(e),9,zn)],2)})),128)),(0,o.createElementVNode)("li",{class:(0,o.normalizeClass)(["page-item",{disabled:a.meta.currentPage==a.meta.lastPage}])},[(0,o.createElementVNode)("a",{class:"page-link",href:"#",onClick:t[10]||(t[10]=function(e){return i.loadNotices(a.meta.lastPage)})},Gn)],2)])])):(0,o.createCommentVNode)("",!0),a.modal.content?((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:4,class:"modal d-block",tabindex:"-1","aria-modal":"true",role:"dialog",onClick:t[12]||(t[12]=(0,o.withModifiers)((function(){return i.closeModal&&i.closeModal.apply(i,arguments)}),["self"]))},[(0,o.createElementVNode)("div",An,[(0,o.createElementVNode)("div",Rn,[(0,o.createElementVNode)("div",Yn,[(0,o.createElementVNode)("h5",Hn,(0,o.toDisplayString)(a.modal.title),1),(0,o.createElementVNode)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[11]||(t[11]=(0,o.withModifiers)((function(){return i.closeModal&&i.closeModal.apply(i,arguments)}),["self"]))})]),(0,o.createElementVNode)("div",{class:"modal-body",innerHTML:a.modal.content},null,8,qn)])])])):(0,o.createCommentVNode)("",!0)],64)}],["__scopeId","data-v-1967aedc"]]);var Xn=function(e){return(0,o.pushScopeId)("data-v-76fd5431"),e=e(),(0,o.popScopeId)(),e}((function(){return(0,o.createElementVNode)("h1",null,"Контакты",-1)})),eo={key:0,class:"d-grid gap-2 mt-4 mb-4"};var to=function(e){return(0,o.pushScopeId)("data-v-74023bbf"),e=e(),(0,o.popScopeId)(),e},no={key:0,class:"mb-3"},oo=to((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Название отдела",-1)})),ro=["disabled"],ao={key:1,class:"mb-4"},io=to((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Описание",-1)})),lo=["disabled"],co={key:2,class:"card mb-3"},so=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Телефоны",-1)})),uo={class:"card-body"},mo=["disabled"],po={class:"accordion-item"},fo={class:"accordion-header"},ho=["onClick"],vo={class:"accordion-body"},bo={class:"mb-3"},yo=to((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Телефон",-1)})),go=["onUpdate:modelValue","disabled"],ko={key:0,class:"mb-3"},Eo=to((function(){return(0,o.createElementVNode)("label",{class:"col-form-label"},"Название",-1)})),wo=["onUpdate:modelValue","disabled"],No={key:1,class:"mb-3"},Vo=to((function(){return(0,o.createElementVNode)("label",{class:"col-form-label"},"Описание",-1)})),xo=["onUpdate:modelValue","disabled"],Co=["onClick","disabled"],Bo={key:3,class:"card mb-3"},_o=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Электронные адреса",-1)})),So={class:"card-body"},To=["disabled"],Lo={class:"accordion-item"},Do={class:"accordion-header"},Mo=["onClick"],Po={class:"accordion-body"},Io={class:"mb-3"},Fo=to((function(){return(0,o.createElementVNode)("label",{class:"col-form-label"},"Электронный адрес",-1)})),Oo=["onUpdate:modelValue","disabled"],Uo={key:0,class:"mb-3"},jo=to((function(){return(0,o.createElementVNode)("label",{class:"col-form-label"},"Название",-1)})),$o=["onUpdate:modelValue","disabled"],Zo={key:1,class:"mb-3"},zo=to((function(){return(0,o.createElementVNode)("label",{class:"col-form-label"},"Описание",-1)})),Go=["onUpdate:modelValue","disabled"],Ao=["onClick","disabled"],Ro={key:4,class:"card mb-3"},Yo=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Адрес",-1)})),Ho={class:"card-body"},qo=["disabled"],Wo={key:5,class:"card mb-3"},Ko=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Код карты",-1)})),Jo={class:"card-body"},Qo=["disabled"],Xo=to((function(){return(0,o.createElementVNode)("div",{class:"form-text"},[(0,o.createTextVNode)("Карту можно построить в "),(0,o.createElementVNode)("a",{href:"https://yandex.ru/map-constructor/",target:"_blank"},"конструкторе"),(0,o.createTextVNode)(". Не забудьте поставить галочку «Растянуть по ширине».")],-1)})),er={key:6,class:"card mb-3"},tr=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Координаты для сервисов Яндекса",-1)})),nr={class:"card-body"},or={class:"row g-3"},rr={class:"col-sm-2"},ar=to((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Широта",-1)})),ir=["disabled"],lr={class:"col-sm-2"},cr=to((function(){return(0,o.createElementVNode)("label",{class:"form-label"},"Долгота",-1)})),sr=["disabled"],dr={key:7,class:"card mb-3"},ur=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Режим работы",-1)})),mr={class:"card-body"},pr=["disabled"],fr={key:8,class:"card mb-3"},hr=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Соцсети",-1)})),vr={class:"card-body"},br=["disabled"],yr={class:"row g-3 mt-2"},gr={class:"col-auto"},kr={class:"img-fluid"},Er={xmlns:"http://www.w3.org/2000/svg",class:"icon",style:{"min-width":"18px","margin-top":"10px"},viewBox:"0 0 24 24",fill:"none","stroke-width":"1.5",stroke:"currentColor"},wr=[to((function(){return(0,o.createElementVNode)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"},null,-1)}))],Nr={class:"col-sm-3"},Vr={class:"row g-3"},xr=to((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"Соцсеть")],-1)})),Cr={class:"col"},Br=["onUpdate:modelValue","disabled"],_r=["value"],Sr={class:"col"},Tr={class:"row g-3"},Lr=to((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"Адрес")],-1)})),Dr={class:"col"},Mr=["onUpdate:modelValue","disabled"],Pr={key:0,class:"col"},Ir={class:"row g-3"},Fr=to((function(){return(0,o.createElementVNode)("div",{class:"col-auto"},[(0,o.createElementVNode)("label",{class:"col-form-label"},"Название")],-1)})),Or={class:"col"},Ur=["onUpdate:modelValue","disabled"],jr={class:"col-auto"},$r=["onClick","disabled"],Zr={key:9,class:"card mb-3"},zr=to((function(){return(0,o.createElementVNode)("div",{class:"card-header"},"Описание",-1)})),Gr={class:"card-body"},Ar=["disabled"],Rr={key:0},Yr={key:1};const Hr={props:{index:{type:Number},contact:{type:Object},socialNetworkTypes:{type:Array},ContactCount:{type:Number,default:1},isSimple:{type:Boolean},configFields:{type:Object}},emits:["store","update","delete"],components:{SpinnerButton:Ht,Draggable:Ne()},data:function(){return{isOpened:!1,spinners:{store:!1,update:!1,delete:!1},activePhone:0,activeEmail:0}},methods:{addPhone:function(){var e;null!==(e=this.contact)&&void 0!==e&&e.phones||(this.contact.phones=[]),this.contact.phones.push({name:"",phone:""})},removePhone:function(e){this.contact.phones.splice(e,1)},addEmail:function(){var e;null!==(e=this.contact)&&void 0!==e&&e.emails||(this.contact.emails=[]),this.contact.emails.push({name:"",phone:""})},removeEmail:function(e){this.contact.emails.splice(e,1)},addSocialNetwork:function(){var e;null!==(e=this.contact)&&void 0!==e&&e.socialNetworks||(this.contact.socialNetworks=[]),this.contact.socialNetworks.push({type:this.socialNetworkTypes[0].type,url:""})},removeSocialNetwork:function(e){this.contact.socialNetworks.splice(e,1)},store:function(){var e=this;this.spinners.store=!0,(0,D.lN)(this.contact).then((function(){e.$emit("store"),e.spinners.store=!1}))},update:function(){var e=this;this.spinners.update=!0,(0,D.e1)(this.contact.id,this.contact).then((function(){e.$emit("update"),e.spinners.update=!1}))},remove:function(){var e,t=this;this.spinners.delete=!0,!this.index||null!==(e=this.contact)&&void 0!==e&&e.id?confirm("Вы действительно хотите удалить контакт «"+this.contact.name+"»?")?(0,D.GR)(this.contact.id).then((function(){t.$emit("delete"),t.spinners.delete=!1})):this.spinners.delete=!1:(this.$emit("delete"),this.spinners.delete=!1)},tooglePhone:function(e){this.activePhone==e?this.activePhone=-1:this.activePhone=e},toogleEmail:function(e){this.activeEmail==e?this.activeEmail=-1:this.activeEmail=e}},computed:{isDisabledForm:function(){return this.spinners.store||this.spinners.update||this.spinners.delete},phones:function(){var e;return(null==this||null===(e=this.contact)||void 0===e?void 0:e.phones)||[]}},beforeMount:function(){this.isOpened=0===this.index}};var qr=n(397),Wr={insert:"head",singleton:!1};I()(qr.Z,Wr);qr.Z.locals;const Kr={components:{"spinner-button":Ht,"contact-item":(0,U.Z)(Hr,[["render",function(e,t,n,r,a,i){var l,c,s,d,u,m,p,f,h,v,b,y,g=(0,o.resolveComponent)("draggable"),k=(0,o.resolveComponent)("spinner-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["mb-4",{card:!n.isSimple}])},[n.isSimple?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:0,class:"card-header card-header-pointer",onClick:t[0]||(t[0]=function(e){return a.isOpened=!a.isOpened})},(0,o.toDisplayString)(n.contact.name),1)),(0,o.withDirectives)((0,o.createElementVNode)("div",{class:(0,o.normalizeClass)({"card-body":!n.isSimple})},[n.isSimple?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",no,[oo,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return n.contact.name=e}),disabled:i.isDisabledForm},null,8,ro),[[o.vModelText,n.contact.name]])])),n.isSimple?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",ao,[io,(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.contact.description=e}),disabled:i.isDisabledForm},null,8,lo),[[o.vModelText,n.contact.description]])])),null!==(l=n.configFields)&&void 0!==l&&null!==(c=l.phones)&&void 0!==c&&c.main?((0,o.openBlock)(),(0,o.createElementBlock)("div",co,[so,(0,o.createElementVNode)("div",uo,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:t[3]||(t[3]=function(e){return i.addPhone()}),disabled:i.isDisabledForm},"Добавить",8,mo),(0,o.createVNode)(g,{modelValue:i.phones,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.phones=e}),"item-key":"phoneIndex",class:"accordion mt-3"},{item:(0,o.withCtx)((function(e){var t=e.element,r=e.index;return[(0,o.createElementVNode)("div",po,[(0,o.createElementVNode)("h2",fo,[(0,o.createElementVNode)("button",{type:"button",class:(0,o.normalizeClass)(["accordion-button",{collapsed:a.activePhone!=r}]),onClick:(0,o.withModifiers)((function(e){return i.tooglePhone(r)}),["prevent"])},(0,o.toDisplayString)(t.phone),11,ho)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["accordion-collapse collapse",{show:a.activePhone==r}]),"aria-labelledby":"headingOne"},[(0,o.createElementVNode)("div",vo,[(0,o.createElementVNode)("div",bo,[yo,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return t.phone=e},disabled:i.isDisabledForm},null,8,go),[[o.vModelText,t.phone]])]),n.configFields.phones.fields.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",ko,[Eo,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return t.name=e},disabled:i.isDisabledForm},null,8,wo),[[o.vModelText,t.name]])])):(0,o.createCommentVNode)("",!0),n.configFields.phones.fields.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",No,[Vo,(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":function(e){return t.description=e},disabled:i.isDisabledForm},null,8,xo),[[o.vModelText,t.description]])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{class:"btn btn-outline-danger",onClick:function(e){return i.removePhone(r)},disabled:i.isDisabledForm},"Удалить телефон",8,Co)])],2)])]})),_:1},8,["modelValue"])])])):(0,o.createCommentVNode)("",!0),null!==(s=n.configFields)&&void 0!==s&&null!==(d=s.emails)&&void 0!==d&&d.main?((0,o.openBlock)(),(0,o.createElementBlock)("div",Bo,[_o,(0,o.createElementVNode)("div",So,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:t[5]||(t[5]=function(e){return i.addEmail()}),disabled:i.isDisabledForm},"Добавить",8,To),(0,o.createVNode)(g,{modelValue:n.contact.emails,"onUpdate:modelValue":t[6]||(t[6]=function(e){return n.contact.emails=e}),"item-key":"phoneIndex",class:"accordion mt-3"},{item:(0,o.withCtx)((function(e){var t=e.element,r=e.index;return[(0,o.createElementVNode)("div",Lo,[(0,o.createElementVNode)("h2",Do,[(0,o.createElementVNode)("button",{type:"button",class:(0,o.normalizeClass)(["accordion-button",{collapsed:a.activeEmail!=r}]),onClick:(0,o.withModifiers)((function(e){return i.toogleEmail(r)}),["prevent"])},(0,o.toDisplayString)(t.email),11,Mo)]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["accordion-collapse collapse",{show:a.activeEmail==r}]),"aria-labelledby":"headingOne"},[(0,o.createElementVNode)("div",Po,[(0,o.createElementVNode)("div",Io,[Fo,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return t.email=e},disabled:i.isDisabledForm},null,8,Oo),[[o.vModelText,t.email]])]),n.configFields.emails.fields.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",Uo,[jo,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return t.name=e},disabled:i.isDisabledForm},null,8,$o),[[o.vModelText,t.name]])])):(0,o.createCommentVNode)("",!0),n.configFields.emails.fields.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zo,[zo,(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":function(e){return t.description=e},disabled:i.isDisabledForm},null,8,Go),[[o.vModelText,t.description]])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-outline-danger",onClick:function(e){return i.removeEmail(r)},disabled:i.isDisabledForm},"Удалить почту",8,Ao)])],2)])]})),_:1},8,["modelValue"])])])):(0,o.createCommentVNode)("",!0),null!==(u=n.configFields)&&void 0!==u&&u.address?((0,o.openBlock)(),(0,o.createElementBlock)("div",Ro,[Yo,(0,o.createElementVNode)("div",Ho,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[7]||(t[7]=function(e){return n.contact.address=e}),disabled:i.isDisabledForm},null,8,qo),[[o.vModelText,n.contact.address]])])])):(0,o.createCommentVNode)("",!0),null!==(m=n.configFields)&&void 0!==m&&m.map_code?((0,o.openBlock)(),(0,o.createElementBlock)("div",Wo,[Ko,(0,o.createElementVNode)("div",Jo,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[8]||(t[8]=function(e){return n.contact.map=e}),disabled:i.isDisabledForm},null,8,Qo),[[o.vModelText,n.contact.map]]),Xo])])):(0,o.createCommentVNode)("",!0),null!==(p=n.configFields)&&void 0!==p&&p.coords?((0,o.openBlock)(),(0,o.createElementBlock)("div",er,[tr,(0,o.createElementVNode)("div",nr,[(0,o.createElementVNode)("div",or,[(0,o.createElementVNode)("div",rr,[ar,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"number",step:"0.000001",min:"-90",max:"90",class:"form-control","onUpdate:modelValue":t[9]||(t[9]=function(e){return n.contact.coordinates.latitude=e}),disabled:i.isDisabledForm},null,8,ir),[[o.vModelText,n.contact.coordinates.latitude]])]),(0,o.createElementVNode)("div",lr,[cr,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"number",step:"0.000001",min:"-180",max:"180",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=function(e){return n.contact.coordinates.longitude=e}),disabled:i.isDisabledForm},null,8,sr),[[o.vModelText,n.contact.coordinates.longitude]])])])])])):(0,o.createCommentVNode)("",!0),null!==(f=n.configFields)&&void 0!==f&&f.schedule?((0,o.openBlock)(),(0,o.createElementBlock)("div",dr,[ur,(0,o.createElementVNode)("div",mr,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[11]||(t[11]=function(e){return n.contact.schedule=e}),disabled:i.isDisabledForm},null,8,pr),[[o.vModelText,n.contact.schedule]])])])):(0,o.createCommentVNode)("",!0),null!==(h=n.configFields)&&void 0!==h&&null!==(v=h.social_networks)&&void 0!==v&&v.main?((0,o.openBlock)(),(0,o.createElementBlock)("div",fr,[hr,(0,o.createElementVNode)("div",vr,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-sm",onClick:t[12]||(t[12]=function(e){return i.addSocialNetwork()}),disabled:i.isDisabledForm},"Добавить",8,br),(0,o.createVNode)(g,{modelValue:n.contact.socialNetworks,"onUpdate:modelValue":t[13]||(t[13]=function(e){return n.contact.socialNetworks=e}),"item-key":"index"},{item:(0,o.withCtx)((function(e){var t=e.element,r=e.index;return[(0,o.createElementVNode)("div",yr,[(0,o.createElementVNode)("div",gr,[(0,o.createElementVNode)("div",kr,[((0,o.openBlock)(),(0,o.createElementBlock)("svg",Er,wr))])]),(0,o.createElementVNode)("div",Nr,[(0,o.createElementVNode)("div",Vr,[xr,(0,o.createElementVNode)("div",Cr,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":function(e){return t.type=e},disabled:i.isDisabledForm},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.socialNetworkTypes,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{key:e.type,value:e.type},(0,o.toDisplayString)(e.name),9,_r)})),128))],8,Br),[[o.vModelSelect,t.type]])])])]),(0,o.createElementVNode)("div",Sr,[(0,o.createElementVNode)("div",Tr,[Lr,(0,o.createElementVNode)("div",Dr,[(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"text",class:"form-control","onUpdate:modelValue":function(e){return t.url=e},disabled:i.isDisabledForm},null,8,Mr),[[o.vModelText,t.url]])])])]),n.configFields.social_networks.fields.name?((0,o.openBlock)(),(0,o.createElementBlock)("div",Pr,[(0,o.createElementVNode)("div",Ir,[Fr,(0,o.createElementVNode)("div",Or,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":function(e){return t.name=e},disabled:i.isDisabledForm},null,8,Ur),[[o.vModelText,t.name]])])])])):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",jr,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:function(e){return i.removeSocialNetwork(r)},disabled:i.isDisabledForm},"Удалить соцсеть",8,$r)])])]})),_:1},8,["modelValue"])])])):(0,o.createCommentVNode)("",!0),null!==(b=n.configFields)&&void 0!==b&&b.description?((0,o.openBlock)(),(0,o.createElementBlock)("div",Zr,[zr,(0,o.createElementVNode)("div",Gr,[(0,o.withDirectives)((0,o.createElementVNode)("textarea",{class:"form-control",rows:"3","onUpdate:modelValue":t[14]||(t[14]=function(e){return n.contact.description=e}),disabled:i.isDisabledForm},null,8,Ar),[[o.vModelText,n.contact.description]])])])):(0,o.createCommentVNode)("",!0)],2),[[o.vShow,a.isOpened]]),(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)({"card-footer":!n.isSimple,"mt-4":n.isSimple})},[null!==(y=n.contact)&&void 0!==y&&y.id?((0,o.openBlock)(),(0,o.createElementBlock)("div",Rr,[(0,o.createVNode)(k,{class:"btn-primary me-2",onClick:t[15]||(t[15]=function(e){return i.update()}),showSpinner:a.spinners.update},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Сохранить")]})),_:1},8,["showSpinner"]),n.ContactCount>1&&!n.isSimple?((0,o.openBlock)(),(0,o.createBlock)(k,{key:0,class:"btn-danger",onClick:t[16]||(t[16]=function(e){return i.remove()}),showSpinner:a.spinners.delete},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Удалить контакт")]})),_:1},8,["showSpinner"])):(0,o.createCommentVNode)("",!0)])):((0,o.openBlock)(),(0,o.createElementBlock)("div",Yr,[(0,o.createVNode)(k,{class:"btn-primary me-2",onClick:t[17]||(t[17]=function(e){return i.store()}),showSpinner:a.spinners.store},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Создать")]})),_:1},8,["showSpinner"]),n.ContactCount>1?((0,o.openBlock)(),(0,o.createBlock)(k,{key:0,class:"btn-danger",onClick:t[18]||(t[18]=function(t){return i.remove(e.contactIndex)})},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Удалить контакт")]})),_:1})):(0,o.createCommentVNode)("",!0)]))],2)],2)}],["__scopeId","data-v-74023bbf"]])},data:function(){return{contacts:[],socialNetworkTypes:[],isSimple:!0,fields:{}}},methods:{loadContactList:function(){var e=this;(0,D.Un)().then((function(t){e.contacts=[],e.socialNetworkTypes=[],t.data.contacts.forEach((function(t){e.contacts.push(t)})),t.data.socialNetworks.forEach((function(t){e.socialNetworkTypes.push(t)}))}))},addContact:function(){this.contacts.push({name:"Новый отдел",description:"",phones:[],emails:[],address:"",map:"",schedule:"",coordinates:{latitude:"",longitude:""},socialNetworks:[]})},deleteContact:function(e){"number"==typeof e?this.contacts.splice(e,1):this.loadContactList()}},beforeMount:function(){var e=this;this.loadContactList(),(0,D.iE)("contacts").then((function(t){e.isSimple=t.data.simple,e.fields=t.data.fields}))}};var Jr=n(464),Qr={insert:"head",singleton:!1};I()(Jr.Z,Qr);Jr.Z.locals;const Xr=(0,U.Z)(Kr,[["render",function(e,t,n,r,a,i){var l=(0,o.resolveComponent)("contact-item");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[Xn,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.contacts,(function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(l,{key:t,index:t,contact:e,socialNetworkTypes:a.socialNetworkTypes,ContactCount:a.contacts.length,onStore:i.loadContactList,onUpdate:i.loadContactList,onDelete:function(e){return i.deleteContact(t)},isSimple:a.isSimple,configFields:a.fields},null,8,["index","contact","socialNetworkTypes","ContactCount","onStore","onUpdate","onDelete","isSimple","configFields"])})),128)),a.isSimple?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",eo,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary btn-lg",onClick:t[0]||(t[0]=function(){return i.addContact&&i.addContact.apply(i,arguments)})},"Добавить контакт")]))],64)}],["__scopeId","data-v-76fd5431"]]);var ea={"aria-label":"breadcrumb"},ta={class:"breadcrumb"},na={class:"breadcrumb-item"},oa=(0,o.createElementVNode)("li",{class:"breadcrumb-item active","aria-current":"page"},null,-1),ra={class:"mt-4 mb-3"},aa=(0,o.createElementVNode)("label",{class:"form-label"},"Адрес электронной почты",-1),ia=["disabled"],la=(0,o.createElementVNode)("div",{class:"form-text"},"На указанный адрес будут приходить письма с уведомлениями",-1),ca={class:"mb-3"},sa=(0,o.createElementVNode)("label",{class:"form-label"},"Новый пароль",-1),da=["disabled"],ua={class:"mb-3"},ma=(0,o.createElementVNode)("label",{class:"form-label"},"Повторите пароль",-1),pa=["disabled"],fa={key:0,class:"invalid-feedback",style:{display:"block"}};const ha={components:{SpinnerButton:Ht},data:function(){return{id:0,name:"",email:"",password:"",confirmPassword:"",disabled:!1}},methods:{checkPassword:function(){return this.password==this.confirmPassword},loadUser:function(){var e,t=this,n=null===(e=this.$route.params)||void 0===e?void 0:e.user;n&&(0,D.xG)(n).then((function(e){t.id=e.data.user.id,t.email=e.data.user.email,t.name=e.data.user.name}))},update:function(){var e=this;if(this.checkPassword()){this.disabled=!0;var t={name:this.name,email:this.email,password:this.password,confirmPassword:this.confirmPassword};(0,D.DZ)(this.id,t).then((function(t){e.name=t.data.user.name,e.email=t.data.user.email,e.password="",e.confirmPassword="",e.disabled=!1}))}else this.$root.store.addError("Пароли не совпадают")}},beforeMount:function(){this.loadUser()},watch:{$route:{immediate:!0,handler:function(e,t){e.params.id&&this.loadUser()}}}},va=(0,U.Z)(ha,[["render",function(e,t,n,r,a,i){var l=(0,o.resolveComponent)("router-link"),c=(0,o.resolveComponent)("spinner-button");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("nav",ea,[(0,o.createElementVNode)("ol",ta,[(0,o.createElementVNode)("li",na,[(0,o.createVNode)(l,{to:{name:"user.list"}},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Пользователи")]})),_:1},8,["to"])]),oa])]),(0,o.createElementVNode)("h1",null,"Редактирование пользователя «"+(0,o.toDisplayString)(a.name)+"»",1),(0,o.createElementVNode)("div",ra,[aa,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"email",class:"form-control",placeholder:"name@example.com","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.email=e}),disabled:a.disabled},null,8,ia),[[o.vModelText,a.email]]),la]),(0,o.createElementVNode)("div",ca,[sa,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"password",class:"form-control",onInput:t[1]||(t[1]=function(e){return i.checkPassword()}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.password=e}),disabled:a.disabled},null,40,da),[[o.vModelText,a.password]])]),(0,o.createElementVNode)("div",ua,[ma,(0,o.withDirectives)((0,o.createElementVNode)("input",{type:"password",class:(0,o.normalizeClass)(["form-control",{"is-invalid":!i.checkPassword()}]),onInput:t[3]||(t[3]=function(e){return i.checkPassword()}),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.confirmPassword=e}),disabled:a.disabled},null,42,pa),[[o.vModelText,a.confirmPassword]]),i.checkPassword()?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",fa,"Пароли не совпадают"))]),(0,o.createVNode)(c,{class:"btn-primary mt-2 mb-4",onClick:t[5]||(t[5]=function(e){return i.update()}),showSpinner:a.disabled},{default:(0,o.withCtx)((function(){return[(0,o.createTextVNode)("Сохранить")]})),_:1},8,["showSpinner"])],64)}]]);var ba=(0,o.createElementVNode)("h1",null,"Пользователи",-1),ya={key:0,class:"table-responsive"},ga={class:"table table-striped table-hover"},ka=(0,o.createElementVNode)("thead",null,[(0,o.createElementVNode)("tr",null,[(0,o.createElementVNode)("th",{class:"text-right",style:{width:"1px"}},"№"),(0,o.createElementVNode)("th",{style:{width:"150px"}},"Логин"),(0,o.createElementVNode)("th",{class:"w1px"},"email"),(0,o.createElementVNode)("th",{class:"w1px"})])],-1),Ea={class:"text-right"},wa={class:"text-end"},Na=["onClick"];const Va={data:function(){return{users:[]}},methods:{userEdit:function(e){this.$router.push({name:"user.edit",params:{user:e.id}})}},beforeMount:function(){var e=this;(0,D.Lh)().then((function(t){e.users=[],t.data.forEach((function(t){e.users.push(t)}))}))}},xa=[{path:"/admin/login",component:j,name:"login",meta:{title:"Вход"}},{path:"/admin/menu/:parentItem?/create",component:He,name:"menu.create",meta:{title:"Админцентр. Создание страницы"}},{path:"/admin/menu/:menuItem/edit",component:nn,name:"menu.edit",meta:{title:"Админцентр. Редактирование страницы"}},{path:"/admin",component:Qn,name:"notices.list",meta:{title:"Админцентр. Уведомления"}},{path:"/admin/contacts",component:Xr,name:"contacts.list",meta:{title:"Админцентр. Контакты"}},{path:"/admin/user",component:(0,U.Z)(Va,[["render",function(e,t,n,r,a,i){return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[ba,a.users.length?((0,o.openBlock)(),(0,o.createElementBlock)("div",ya,[(0,o.createElementVNode)("table",ga,[ka,(0,o.createElementVNode)("tbody",null,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(a.users,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("tr",{key:e.id},[(0,o.createElementVNode)("td",Ea,(0,o.toDisplayString)(e.id),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.name),1),(0,o.createElementVNode)("td",null,(0,o.toDisplayString)(e.email),1),(0,o.createElementVNode)("td",wa,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-sm btn-primary me-2",onClick:function(t){return i.userEdit(e)}},"Редактировать",8,Na)])])})),128))])])])):(0,o.createCommentVNode)("",!0)],64)}]]),name:"user.list",meta:{title:"Админцентр. Пользователи"}},{path:"/admin/user/:user/edit",component:va,name:"user.edit",meta:{title:"Админцентр. Редактирование пользователя"}}];var Ca=n(484),Ba=n.n(Ca),_a=n(600),Sa=n.n(_a),Ta=n(86);function La(e){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(e)}function Da(){Da=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),l=new x(r||[]);return o(i,"_invoke",{value:E(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function m(){}function p(){}function f(){}var h={};c(h,a,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(C([])));b&&b!==t&&n.call(b,a)&&(h=b);var y=f.prototype=m.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,a,i,l){var c=d(e[o],e,a);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==La(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function E(e,t,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return B()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var r=d(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:B}}function B(){return{value:void 0,done:!0}}return p.prototype=f,o(y,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),c(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new k(s(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,l,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(V),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return i.type="throw",i.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;V(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ma(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,r)}var Pa=n(530),Ia=(0,Ta.WB)(),Fa=Pa.createRouter({history:Pa.createWebHistory(),routes:xa});Fa.beforeEach(function(){var e,t=(e=Da().mark((function e(t,n,o){var r,a,i,l;return Da().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,A.o)(),a="login"==t.name,i=localStorage.getItem("token"),l=!1,a||!i||r.getToken()){e.next=7;break}return e.next=7,(0,D.a_)(i).then((function(e){var t;null!==(t=e.data)&&void 0!==t&&t.check&&(l=!0,r.setToken(i),r.reloadPages(),r.loadBlockTypes(),r.loadUser())})).catch((function(){o({name:"login"})}));case 7:a||i&&l||r.getToken()?o():o({name:"login"});case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){Ma(a,o,r,i,l,"next",e)}function l(e){Ma(a,o,r,i,l,"throw",e)}i(void 0)}))});return function(e,n,o){return t.apply(this,arguments)}}());var Oa=(0,o.createApp)(q);Oa.config.globalProperties.$dayjs=Ba(),Oa.config.globalProperties.$dayjs.locale(Sa()),Oa.use(Fa).use(Ia).mount("#app"),window.customCollectionName=function(e){return e+"_"+([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},181:(e,t,n)=>{"use strict";n.d(t,{$k:()=>E,yM:()=>y,Fn:()=>w,Zj:()=>g,F5:()=>k,a_:()=>d,GR:()=>T,Un:()=>B,lN:()=>_,e1:()=>S,P7:()=>u,iE:()=>L,LP:()=>s,Rj:()=>N,Og:()=>v,jw:()=>m,bs:()=>b,yZ:()=>f,VS:()=>p,so:()=>h,nF:()=>C,zI:()=>V,Dv:()=>x,v7:()=>M,Lh:()=>D,xG:()=>P,DZ:()=>I});var o=n(884);function r(e){var t,n,r=(0,o.o)();return(null==e||null===(t=e.status)||void 0===t?void 0:t.code)>=300&&(r.addError((null==e||null===(n=e.error)||void 0===n?void 0:n.message)||e.status.message),!0)}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},l=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),l=new B(r||[]);return o(i,"_invoke",{value:N(e,n,l)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function f(){}function h(){}function v(){}var b={};d(b,l,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(_([])));g&&g!==t&&n.call(g,l)&&(b=g);var k=v.prototype=f.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(o,i,l,c){var s=m(e[o],e,i);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==a(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,l,c)}),(function(e){r("throw",e,l,c)})):t.resolve(u).then((function(e){d.value=e,l(d)}),(function(e){return r("throw",e,l,c)}))}c(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function N(e,t,n){var o="suspendedStart";return function(r,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===r)throw a;return S()}for(n.method=r,n.arg=a;;){var i=n.delegate;if(i){var l=V(i,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=m(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function V(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,V(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=m(o,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function _(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,r=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=v,o(k,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=d(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},E(w.prototype),d(w.prototype,c,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,o,r,a){void 0===a&&(a=Promise);var i=new w(u(t,n,o,r),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(k),d(k,s,"Generator"),d(k,l,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=_,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return i.type="throw",i.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function l(e,t,n,o,r,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(o,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var a=e.apply(t,n);function i(e){l(a,o,r,i,c,"next",e)}function c(e){l(a,o,r,i,c,"throw",e)}i(void 0)}))}}function s(e,t){return F("/api/get-token",{name:e,password:t})}function d(e){return F("/api/check-token",{},!1,e)}function u(e){return F("/api/forget-token",{},!1,e)}function m(e){return F(e?"/api/menu-items/list/".concat(e):"/api/menu-items/list")}function p(e){return F("/api/menu-items/store",e)}function f(e){return F("/api/menu-items/".concat(e,"/show"))}function h(e,t){return F("/api/menu-items/".concat(e,"/update"),t)}function v(e){return F("/api/menu-items/".concat(e,"/delete"))}function b(e){return F("/api/menu-items/positioning",e)}function y(e){return F("/api/blocks/list",e)}function g(e){return F("/api/blocks/store",e,!0)}function k(e,t){return F("/api/blocks/".concat(e,"/update"),t,!0)}function E(e){return F("/api/blocks/".concat(e,"/delete"))}function w(e){return F("/api/blocks/positioning",e)}function N(){return F("/api/limits")}function V(e){return F("/api/notices/list",e)}function x(e){return F("/api/notices/".concat(e,"/read"))}function C(e){return F("/api/notices/".concat(e,"/delete"))}function B(){return F("/api/contacts/list")}function _(e){return F("/api/contacts/store",e)}function S(e,t){return F("/api/contacts/".concat(e,"/update"),t)}function T(e){return F("/api/contacts/".concat(e,"/delete"))}function L(e){return F("/api/configs/".concat(e))}function D(){return F("/api/users/list")}function M(){return F("/api/users/current")}function P(e){return F("/api/users/".concat(e,"/show"))}function I(e,t){return F("/api/users/".concat(e,"/update"),t)}function F(e){return O.apply(this,arguments)}function O(){return O=c(i().mark((function e(t){var n,a,l,c,s,d,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]&&u[2],l=u.length>3?u[3]:void 0,c=(0,o.o)(),l||(l=c.getToken()),s={Accept:"application/json"},a||(s["Content-Type"]="application/json;charset=utf-8"),d={method:"post",headers:s,body:""},n&&a?d.body=n:n&&(d.body=JSON.stringify(n)),l&&(d.headers.Authorization="Bearer ".concat(l)),e.next=12,fetch(t,d).then((function(e){return e.json()})).then((function(e){var t;return r(e)?Promise.reject(new Error((null==e||null===(t=e.error)||void 0===t?void 0:t.message)||e.status.message)):e}));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}},884:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});var o=n(86),r=n(821);var a=n(181);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,o.Q_)("main",(function(){return c(c(c(c(c(c({},{token:d=(0,r.ref)(""),getToken:function(){if(d.value)return d.value},setToken:function(e){d.value=e,localStorage.setItem("token",e)},resetToken:function(){d.value="",localStorage.removeItem("token")}}),{errors:s=(0,r.ref)([]),addError:function(e){s.value.push(e)},getErrors:function(){return s.value},removeError:function(e){s.value.splice(e,1)},forgetErrors:function(){s.value=[]},hasErrors:function(){return s.value.length&&!0}}),{succeses:l=(0,r.ref)([]),addSuccess:function(e){l.value.push(e)},getSuccesses:function(){return l.value},removeSuccess:function(e){l.value.splice(e,1)},forgetSuccesses:function(){l.value=[]},hasSuccesses:function(){return l.value.length&&!0}}),(n=(0,r.ref)([]),o=(0,r.ref)(void 0),{pages:n,currentPage:o,reloadPages:function(){(0,a.jw)().then((function(e){n.value=[],e.data.forEach((function(e){n.value.push(e)}))}))},getPage:i=function(e){return n.value[e||0]},getPageById:function(e,t){var o,r;return e=parseInt(e),t||(r=n.value.find((function(t){return t.id==e}))),r||t||n.value.some((function(t){var n=t.children.data.find((function(t){return t.id==e}));if(n||(n=i(e)),n)return r=n,!0})),!r&&null!=t&&null!==(o=t.children)&&void 0!==o&&o.data&&t.children.data.some((function(t){var n;if(t.id==e&&(n=t),n||(n=i(e)),n)return r=n,!0})),r},getPages:function(){return n}})),{blockTypes:t=(0,r.ref)([]),getBlockTypeName:function(e){var n;return null===(n=t.value.find((function(t){return t.type==e})))||void 0===n?void 0:n.name},getBlockTypes:function(){return t.value},getBlockType:function(e){return t.value[e]},loadBlockTypes:function(){(0,a.iE)("blocks").then((function(e){t.value=[],e.data.types.forEach((function(e){t.value.push(e)}))}))}}),{user:e=(0,r.ref)({}),getUser:function(){return e.value},loadUser:function(){(0,a.v7)().then((function(t){e.value=t.data.user}))}});var e,t,n,o,i,l,s,d}))},913:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".dropdown:hover>.dropdown-menu[data-v-272eab60]{display:block}",""]);const a=r},844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".modal[data-v-1328786d]{background-color:rgba(0,0,0,.5)}",""]);const a=r},397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".accordion-button[data-v-74023bbf]:before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='currentColor' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:1.25rem;content:\"\";flex-shrink:0;height:1.25rem;margin-right:.5rem;width:1.25rem}.accordion-button[data-v-74023bbf]:not(.collapsed):before{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='%230c63e4' class='w-6 h-6'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5'/%3E%3C/svg%3E\")}",""]);const a=r},464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".card-header-pointer[data-v-76fd5431]{cursor:pointer}",""]);const a=r},635:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".icon[data-v-02f3438f]{margin-top:-4px;width:20px}",""]);const a=r},675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".icon[data-v-76e417a9]{margin:5px;min-width:18px}.preview-container[data-v-76e417a9]{margin-left:-.39rem;margin-right:-.39rem}.preview-container_steps[data-v-76e417a9]{margin:0 auto}iframe[data-v-76e417a9]{height:300px}",""]);const a=r},984:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".nav-link[data-v-45066739]{cursor:pointer}",""]);const a=r},488:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".sidebar[data-v-1f2ce14e]{--duration:0.5s}.icon svg[data-v-1f2ce14e]{cursor:pointer;transition:var(--duration) ease;width:24px}.icon-opened svg[data-v-1f2ce14e]{transform:rotate(180deg)}.sidebar[data-v-1f2ce14e]{transition:var(--duration) ease;width:48px}.sidebar-opened[data-v-1f2ce14e]{width:33.33333333%}@media (min-width:768px){.sidebar[data-v-1f2ce14e]{transition:var(--duration) ease;width:48px}.sidebar-opened[data-v-1f2ce14e]{width:16.66666667%}}.v-enter-active[data-v-1f2ce14e]{transition:opacity .1s ease var(--duration)}.v-leave-active[data-v-1f2ce14e]{transition:opacity .01s ease}.v-enter-from[data-v-1f2ce14e],.v-leave-to[data-v-1f2ce14e]{opacity:0}",""]);const a=r},511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"tr[data-v-1967aedc]{border-bottom:1px solid #dee2e6!important}.modal[data-v-1967aedc]{background-color:rgba(0,0,0,.5)}.filter-header[data-v-1967aedc]{cursor:pointer}.filter-arrow[data-v-1967aedc]{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3E%3Cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:1.25rem;display:inline-block;height:20px;margin-bottom:-5px;min-width:20px;transition-duration:.3s;transition-property:transform}.filter-arrow_invert[data-v-1967aedc]{transform:rotate(180deg)}",""]);const a=r},651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".treeview[data-v-07d98a90]{height:100%;list-style-type:none}.treeview a[data-v-07d98a90]{text-decoration:none}.sortable-ghost[data-v-07d98a90]{background-color:rgba(var(--bs-dark-rgb),.3)!important}",""]);const a=r},21:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".v-align-center[data-v-624383ca]{left:50%;max-width:500px;min-width:500px;position:absolute;top:50%;transform:translate(-50%,-50%)}",""]);const a=r},869:()=>{},496:(e,t,n)=>{var o={"./ArticleComponent.vue":[644,898,644],"./CoverComponent.vue":[573,573],"./FilesComponent.vue":[280,280],"./GalleryComponent.vue":[584,584],"./RecallComponent.vue":[914,914],"./SliderComponent.vue":[58,58]};function r(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(r)))}r.keys=()=>Object.keys(o),r.id=496,e.exports=r}},e=>{var t=t=>e(e.s=t);e.O(0,[703,898],(()=>(t(903),t(869))));e.O()}]);